<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        
/*         window.onload = function(){
            var oUl = document.getElementById("ul1");
            var aLis = oUl.getElementsByTagName("li");

            //添加点击事件
            for(var i = 0; i < aLis.length; i++){
                aLis[i].onclick = function(){
                    this.style.backgroundColor = "red";
                }
            }

            var oBtn = document.getElementById("btn1");
            var i = 6;
            oBtn.onclick = function(){
                var newNode = document.createElement("li");
                newNode.innerHTML = i++ * 1111;
                oUl.appendChild(newNode);
            }

        }
            1、浪费
            2、后添加的节点没有点击事件
        */ 


        /* 
            委托：
                A委托B
                A发布任务   委托方
                B执行任务   代理方

            事件委托实现步骤：
                1、找到当前节点的父节点或者祖先节点
                2、将事件添加到找到的这个节点
                3、找到触发对象，判断触发对象是否是想要的触发对象，进行后续的操作
        */

        //li委托ul将li变成红色
        window.onload = function(){
            var oUl = document.getElementById("ul1");
            oUl.onclick = function(ev){
                var e = ev || window.event;
                var target = e.target || window.event.srcElement;
                if(target.nodeName.toLowerCase() == "li"){
                    target.style.backgroundColor = "red";
                }
            }

            var oBtn = document.getElementById("btn1");
            var i = 6;
            oBtn.onclick = function(){
                var newNode = document.createElement("li");
                newNode.innerHTML = i++ * 1111;
                oUl.appendChild(newNode);
            }

        }


    </script>
</head>
<body>
    <button id = "btn1">新增节点</button>
    <ul id = "ul1">
        <li>1111</li>
        <li>2222</li>
        <li>3333</li>
        <li>4444</li>
        <li>5555</li>
    </ul>
</body>
</html>